diff a/source/mainwin.cc b/source/mainwin.cc	(rejected hunks)
@@ -19,6 +19,8 @@
 // ----------------------------------------------------------------------
 
 
+#include <fstream>
+#include <iostream>
 #include <stdlib.h>
 #include <stdio.h>
 #include <math.h>
@@ -257,6 +260,12 @@ void Mainwin::handle_callb (int type, X_window *W, XEvent *E)
         }
         break;
     }
+
+    if (!_dirty)
+    {
+        if (nsm) nsm->is_dirty ();
+        _dirty = true;
+    }
 }
 
 
